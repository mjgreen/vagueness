# Preprocessing E1

```{r makeDataFrame}
dat <- read.delim("data_raw.txt", header=FALSE)
names(dat) <- c("condition", "leftN", "rightN", "vgn", "side", "string", "subject", "rt", "error")
dat$condition <- as.factor(dat$condition)
# trial
for (s in unique(dat$subject)) {
  x=subset(dat, subject==s)
  x$trial=1:nrow(x)
  dat[dat$subject==s, 'trial']=x$trial
}
dat$subject <- as.factor(paste("sub",sep="",sprintf("%02d",dat$subject,sep="")))
dat$error <- as.logical(1-dat$error)
dat$Ord <- as.factor(ifelse(dat$leftN < dat$rightN, 'LtoR', 'RtoL'))
dat$bigside <- ifelse(dat$leftN > dat$rightN, 'L', 'R')
dat$Qty <- as.factor(ifelse(dat$side==dat$bigside, "Large", "Small"))
dat$bigside=NULL
dat$Gap <- abs(dat$leftN-dat$rightN)
dat$c_Gap[dat$Gap==5] <- -1.5
dat$c_Gap[dat$Gap==10] <- -.5
dat$c_Gap[dat$Gap==15] <- .5
dat$c_Gap[dat$Gap==20] <- 1.5
dat$Vgn <- as.factor(ifelse(dat$vgn=="P", "Crisp", "Vague"))
dat$vgn = NULL
dat$c_Vgn <- ifelse(dat$Vgn=='Crisp', -.5, .5)
dat$logrt <- log(dat$rt)
dat <- subset(dat, select=c(subject, trial, leftN, rightN, side, string, Vgn, c_Vgn, Ord, Qty, Gap, c_Gap, error, rt, logrt))
row.names(dat) <- NULL
write.table(x=dat, "../data.txt", quote=FALSE, sep="\t", row.names=FALSE)
```
